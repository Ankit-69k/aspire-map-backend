{"clientVersion":"6.16.2","level":"error","message":"Error creating student \nInvalid `prisma.student.findUnique()` invocation in\n/home/ankitkr/hackathon/aspire-map-backend/src/services/student.service.ts:7:43\n\n  4 class StudentService {\n  5   async createStudent(name: string, email: string, password: string) {\n  6     // Check if email already exists\n→ 7     const existing = await prisma.student.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.","name":"PrismaClientInitializationError","service":"user-service","stack":"PrismaClientInitializationError: \nInvalid `prisma.student.findUnique()` invocation in\n/home/ankitkr/hackathon/aspire-map-backend/src/services/student.service.ts:7:43\n\n  4 class StudentService {\n  5   async createStudent(name: string, email: string, password: string) {\n  6     // Check if email already exists\n→ 7     const existing = await prisma.student.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at ei.handleRequestError (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:124:7568)\n    at ei.handleAndLogRequestError (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:124:6593)\n    at ei.request (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:124:6300)\n    at async a (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:133:9551)\n    at async StudentService.createStudent (/home/ankitkr/hackathon/aspire-map-backend/src/services/student.service.ts:7:22)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/student.handler.ts:11:23)"}
{"level":"error","message":"Error parsing resume Invalid JSON returned from LLM","service":"user-service","stack":"Error: Invalid JSON returned from LLM\n    at LLMService.parseResume (/home/ankitkr/hackathon/aspire-map-backend/src/services/llm.service.ts:42:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async LLMHandler.parseResume (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:21:23)"}
{"data":null,"errors":[],"isCached":false,"level":"error","message":"Error parsing resume No file uploaded","service":"user-service","stack":"Error: No file uploaded\n    at LLMHandler.parseResume (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:14:15)\n    at <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/src/routes/llm.route.ts:9:14)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at multerMiddleware (/home/ankitkr/hackathon/aspire-map-backend/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)","statusCode":400,"success":false,"timestamp":"2025-09-19T16:58:28.290Z"}
{"data":null,"errors":[],"isCached":false,"level":"error","message":"Error parsing resume No file uploaded","service":"user-service","stack":"Error: No file uploaded\n    at LLMHandler.parseResume (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:14:15)\n    at <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/src/routes/llm.route.ts:9:14)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at multerMiddleware (/home/ankitkr/hackathon/aspire-map-backend/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)","statusCode":400,"success":false,"timestamp":"2025-09-19T16:58:42.244Z"}
{"data":null,"errors":[],"isCached":false,"level":"error","message":"Error parsing resume No file uploaded","service":"user-service","stack":"Error: No file uploaded\n    at LLMHandler.parseResume (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:14:15)\n    at <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/src/routes/llm.route.ts:9:14)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at multerMiddleware (/home/ankitkr/hackathon/aspire-map-backend/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)","statusCode":400,"success":false,"timestamp":"2025-09-19T16:58:57.088Z"}
{"level":"error","message":"Error creating profile: Student not found","service":"user-service","stack":"Error: Student not found\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:34:15)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile Failed to create profile","service":"user-service","stack":"Error: Failed to create profile\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:64:13)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile: Student not found","service":"user-service","stack":"Error: Student not found\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:34:15)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile Failed to create profile","service":"user-service","stack":"Error: Failed to create profile\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:64:13)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile: Profile already exists for this student","service":"user-service","stack":"Error: Profile already exists for this student\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:43:15)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile Failed to create profile","service":"user-service","stack":"Error: Failed to create profile\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:64:13)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile: Profile already exists for this student","service":"user-service","stack":"Error: Profile already exists for this student\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:43:15)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"level":"error","message":"Error creating profile Failed to create profile","service":"user-service","stack":"Error: Failed to create profile\n    at ProfileService.createProfile (/home/ankitkr/hackathon/aspire-map-backend/src/services/profile.service.ts:64:13)\n    at async create (/home/ankitkr/hackathon/aspire-map-backend/src/handler/profile.handler.ts:20:23)"}
{"attemptNumber":7,"level":"error","message":"Error adding profile to vector store: A call to https://api.pinecone.io/indexes/career-guidance returned HTTP status 404.","name":"PineconeNotFoundError","retriesLeft":0,"service":"user-service","stack":"PineconeNotFoundError: A call to https://api.pinecone.io/indexes/career-guidance returned HTTP status 404.\n    at mapHttpStatusError (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/errors/http.ts:194:14)\n    at handleApiError (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/errors/handling.ts:23:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.post (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/utils/middleware.ts:101:21)\n    at async ManageIndexesApi.BaseAPI.fetchApi (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_control/runtime.ts:229:28)\n    at async ManageIndexesApi.request (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_control/runtime.ts:136:26)\n    at async ManageIndexesApi.describeIndexRaw (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_control/apis/ManageIndexesApi.ts:370:26)\n    at async ManageIndexesApi.describeIndex (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_control/apis/ManageIndexesApi.ts:385:26)\n    at async <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/control/describeIndex.ts:28:20)\n    at async _describeIndex (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/data/indexHostSingleton.ts:18:30)","statusCode":404}
{"level":"error","message":"Error generating career recommendations Cannot destructure property 'profileText' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'profileText' of 'req.body' as it is undefined.\n    at LLMHandler.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:47:15)\n    at <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/src/routes/llm.route.ts:13:14)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at /home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:295:15\n    at processParams (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:582:12)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:291:5)"}
{"attemptNumber":7,"level":"error","message":"Error adding profile to vector store: Vector dimension 768 does not match the dimension of the index 1024","name":"PineconeBadRequestError","retriesLeft":0,"service":"user-service","stack":"PineconeBadRequestError: Vector dimension 768 does not match the dimension of the index 1024\n    at mapHttpStatusError (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/errors/http.ts:188:14)\n    at handleApiError (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/errors/handling.ts:23:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.post (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/utils/middleware.ts:101:21)\n    at async VectorOperationsApi.BaseAPI.fetchApi (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_data/runtime.ts:229:28)\n    at async VectorOperationsApi.request (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_data/runtime.ts:136:26)\n    at async VectorOperationsApi.upsertVectorsRaw (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_data/apis/VectorOperationsApi.ts:463:26)\n    at async VectorOperationsApi.upsertVectors (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/pinecone-generated-ts-fetch/db_data/apis/VectorOperationsApi.ts:479:26)\n    at async RetryOnServerFailure.execute (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/utils/retries.ts:36:26)\n    at async UpsertCommand.run (/home/ankitkr/hackathon/aspire-map-backend/node_modules/@pinecone-database/pinecone/src/data/vectors/upsert.ts:57:5)"}
{"level":"error","message":"Error generating career recommendations Cannot destructure property 'profileText' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'profileText' of 'req.body' as it is undefined.\n    at LLMHandler.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:47:15)\n    at <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/src/routes/llm.route.ts:13:14)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at /home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:295:15\n    at processParams (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:582:12)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:291:5)"}
{"level":"error","message":"Error generating career recommendations Cannot destructure property 'profileId' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'profileId' of 'req.body' as it is undefined.\n    at LLMHandler.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:47:15)\n    at <anonymous> (/home/ankitkr/hackathon/aspire-map-backend/src/routes/llm.route.ts:13:14)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/lib/layer.js:152:17)\n    at /home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:295:15\n    at processParams (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:582:12)\n    at next (/home/ankitkr/hackathon/aspire-map-backend/node_modules/router/index.js:291:5)"}
{"clientVersion":"6.16.2","level":"error","message":"Error generating career recommendations: \nInvalid `prisma.profile.findUnique()` invocation in\n/home/ankitkr/hackathon/aspire-map-backend/src/services/llm.service.ts:20:44\n\n  17 async generateCareerRecommendations(profileId: string) {\n  18   try {\n  19     // 1. Fetch profile from DB\n→ 20     const profile = await prisma.profile.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.","name":"PrismaClientInitializationError","service":"user-service","stack":"PrismaClientInitializationError: \nInvalid `prisma.profile.findUnique()` invocation in\n/home/ankitkr/hackathon/aspire-map-backend/src/services/llm.service.ts:20:44\n\n  17 async generateCareerRecommendations(profileId: string) {\n  18   try {\n  19     // 1. Fetch profile from DB\n→ 20     const profile = await prisma.profile.findUnique(\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at ei.handleRequestError (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:124:7568)\n    at ei.handleAndLogRequestError (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:124:6593)\n    at ei.request (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:124:6300)\n    at async a (/home/ankitkr/hackathon/aspire-map-backend/src/generated/prisma/runtime/library.js:133:9551)\n    at async LLMService.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/services/llm.service.ts:20:23)\n    at async LLMHandler.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:54:9)"}
{"level":"error","message":"Error generating career recommendations Failed to generate career recommendations","service":"user-service","stack":"Error: Failed to generate career recommendations\n    at LLMService.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/services/llm.service.ts:68:13)\n    at async LLMHandler.generateCareerRecommendations (/home/ankitkr/hackathon/aspire-map-backend/src/handler/llm.handler.ts:54:9)"}
